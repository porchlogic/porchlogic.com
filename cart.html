<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shopping Cart - Porch Logic</title>
    <link rel="stylesheet" href="styles_new.css" />
    <link rel="stylesheet" href="styles/base.css" />
    <link rel="stylesheet" href="styles/cart.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- <script src="https://js.stripe.com/v3/"></script> -->
    <script src="https://js.stripe.com/basil/stripe.js"></script>
</head>
<body>
    <div id="header"></div>

    <div class="main">
        <h1>Your Shopping Cart</h1>
        <div id="cart-items-container">
            <!-- Cart items will be rendered here by js/cart.js -->
        </div>
        <div class="cart-summary">
            <h3>Total: <span id="cart-total">$0.00</span></h3>
        </div>

        <div class="payment-section">
            <h2>Payment Information</h2>
            <h3 class="warning text-glow--yellow-subtle">
				<em>âš  test mode, no transactions will be processed</em><br>
                <em>Get in touch if you are in PDX!</em>
			</h3>
            <!-- <form id="payment-form">
                <div id="card-element"></div>
                <button id="submit" class="buy-button">Pay Now</button>
                <div id="payment-message"></div>
            </form> -->

            <form id="payment-form">
                <h4>Email</h4>
                <label>

                    <input type="text" id="email" placeholder="you@example.com"
                  /></label>
                <!-- <h4>Billing Address</h4>
                <div id="billing-address-element">
                </div> -->
                <h4>Shipping Address</h4>
                <div id="shipping-address-element">
                  <!--Stripe.js injects the Address Element-->
                </div>
                <h4>Payment</h4>
                <div id="payment-element">
                  <!--Stripe.js injects the Payment Element-->
                </div>
                <button id="submit">
                  <div class="spinner hidden" id="spinner"></div>
                  <span id="button-text">Pay now</span>
                </button>
                <div id="payment-message" class="hidden"></div>
            </form>

        </div>
    </div>

    <div id="footer"></div>

    <script src="js/main.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/checkout.js"></script>
    <script>
        // Initialize the page elements like header and footer
        initPage();

        // Initialize Stripe Elements when the page is ready
        document.addEventListener('DOMContentLoaded', () => {
            // Ensure cart items are rendered before initializing Stripe
            renderCartItems();
            // Only initialize Stripe if there are items in the cart
            // if (getCartItems().length > 0) {
            //     initializeStripeElements(); // Call the function from js/cart.js
            // }
        });
    </script>
</body>
</html>